// Maps Florida ZIP code prefixes (first 3 digits) to county names.
// Covers the major counties; falls back to null for unlisted zips.
const FL_ZIP_PREFIX_TO_COUNTY: Record<string, string> = {
  "320": "Duval",
  "321": "Duval",
  "322": "Duval",
  "323": "Alachua",
  "324": "Alachua",
  "325": "Marion",
  "326": "Marion",
  "327": "Orange",
  "328": "Orange",
  "329": "Brevard",
  "330": "Miami-Dade",
  "331": "Miami-Dade",
  "332": "Miami-Dade",
  "333": "Broward",
  "334": "Broward",
  "335": "Hillsborough",
  "336": "Hillsborough",
  "337": "Pinellas",
  "338": "Pinellas",
  "339": "Manatee",
  "340": "Pasco",
  "341": "Hernando",
  "342": "Citrus",
  "344": "Volusia",
  "346": "Brevard",
  "347": "Lake",
  "349": "Palm Beach",
  "345": "Osceola",
  "348": "Seminole",
};

// More specific full-zip overrides for ambiguous areas
const FL_ZIP_FULL_TO_COUNTY: Record<string, string> = {
  "33558": "Pasco",
  "33559": "Pasco",
  "34637": "Pasco",
  "34638": "Pasco",
  "34639": "Pasco",
  "34652": "Pasco",
  "34653": "Pasco",
  "34654": "Pasco",
  "34655": "Pasco",
  "34667": "Pasco",
  "34668": "Pasco",
  "34669": "Pasco",
  "34690": "Pasco",
  "34691": "Pasco",
  "33541": "Pasco",
  "33542": "Pasco",
  "33543": "Pasco",
  "33544": "Pasco",
  "33545": "Pasco",
  "33576": "Pasco",
  "34610": "Pasco",
  "34613": "Hernando",
  "34614": "Hernando",
  "34601": "Hernando",
  "34602": "Hernando",
  "34604": "Hernando",
  "34606": "Hernando",
  "34607": "Hernando",
  "34608": "Hernando",
  "34609": "Hernando",
  "33510": "Hillsborough",
  "33511": "Hillsborough",
  "33527": "Hillsborough",
  "33534": "Hillsborough",
  "33547": "Hillsborough",
  "33548": "Hillsborough",
  "33549": "Hillsborough",
  "33556": "Hillsborough",
  "33569": "Hillsborough",
  "33570": "Hillsborough",
  "33572": "Hillsborough",
  "33573": "Hillsborough",
  "33578": "Hillsborough",
  "33579": "Hillsborough",
  "33584": "Hillsborough",
  "33592": "Hillsborough",
  "33594": "Hillsborough",
  "33596": "Hillsborough",
  "33598": "Hillsborough",
  "33602": "Hillsborough",
  "33603": "Hillsborough",
  "33604": "Hillsborough",
  "33605": "Hillsborough",
  "33606": "Hillsborough",
  "33607": "Hillsborough",
  "33609": "Hillsborough",
  "33610": "Hillsborough",
  "33611": "Hillsborough",
  "33612": "Hillsborough",
  "33613": "Hillsborough",
  "33614": "Hillsborough",
  "33615": "Hillsborough",
  "33616": "Hillsborough",
  "33617": "Hillsborough",
  "33618": "Hillsborough",
  "33619": "Hillsborough",
  "33624": "Hillsborough",
  "33625": "Hillsborough",
  "33626": "Hillsborough",
  "33629": "Hillsborough",
  "33634": "Hillsborough",
  "33635": "Hillsborough",
  "33637": "Hillsborough",
  "33647": "Hillsborough",
  "34202": "Manatee",
  "34203": "Manatee",
  "34205": "Manatee",
  "34207": "Manatee",
  "34208": "Manatee",
  "34209": "Manatee",
  "34210": "Manatee",
  "34211": "Manatee",
  "34212": "Manatee",
  "34219": "Manatee",
  "34221": "Manatee",
  "34222": "Manatee",
  "34228": "Sarasota",
  "34229": "Sarasota",
  "34230": "Sarasota",
  "34231": "Sarasota",
  "34232": "Sarasota",
  "34233": "Sarasota",
  "34234": "Sarasota",
  "34235": "Sarasota",
  "34236": "Sarasota",
  "34237": "Sarasota",
  "34238": "Sarasota",
  "34239": "Sarasota",
  "34240": "Sarasota",
  "34241": "Sarasota",
  "34242": "Sarasota",
  "34243": "Sarasota",
  "33701": "Pinellas",
  "33702": "Pinellas",
  "33703": "Pinellas",
  "33704": "Pinellas",
  "33705": "Pinellas",
  "33706": "Pinellas",
  "33707": "Pinellas",
  "33708": "Pinellas",
  "33709": "Pinellas",
  "33710": "Pinellas",
  "33711": "Pinellas",
  "33712": "Pinellas",
  "33713": "Pinellas",
  "33714": "Pinellas",
  "33715": "Pinellas",
  "33716": "Pinellas",
  "33755": "Pinellas",
  "33756": "Pinellas",
  "33759": "Pinellas",
  "33760": "Pinellas",
  "33761": "Pinellas",
  "33762": "Pinellas",
  "33763": "Pinellas",
  "33764": "Pinellas",
  "33765": "Pinellas",
  "33767": "Pinellas",
  "33770": "Pinellas",
  "33771": "Pinellas",
  "33772": "Pinellas",
  "33773": "Pinellas",
  "33774": "Pinellas",
  "33776": "Pinellas",
  "33777": "Pinellas",
  "33778": "Pinellas",
  "33781": "Pinellas",
  "33782": "Pinellas",
  "33785": "Pinellas",
  "33786": "Pinellas",
  "34695": "Pinellas",
  "34696": "Pinellas",
  "34698": "Pinellas",
  "33801": "Polk",
  "33803": "Polk",
  "33805": "Polk",
  "33809": "Polk",
  "33810": "Polk",
  "33811": "Polk",
  "33812": "Polk",
  "33813": "Polk",
  "33815": "Polk",
  "33823": "Polk",
  "33825": "Polk",
  "33830": "Polk",
  "33837": "Polk",
  "33838": "Polk",
  "33839": "Polk",
  "33841": "Polk",
  "33843": "Polk",
  "33844": "Polk",
  "33849": "Polk",
  "33850": "Polk",
  "33853": "Polk",
  "33860": "Polk",
  "33868": "Polk",
  "33880": "Polk",
  "33881": "Polk",
  "33884": "Polk",
  "33897": "Polk",
  "33898": "Polk",
  "34711": "Lake",
  "34714": "Lake",
  "34731": "Lake",
  "34736": "Lake",
  "34748": "Lake",
  "34753": "Lake",
  "34756": "Lake",
  "34760": "Orange",
  "34761": "Orange",
  "34787": "Orange",
  "34786": "Orange",
  "33896": "Osceola",
  "34741": "Osceola",
  "34743": "Osceola",
  "34744": "Osceola",
  "34746": "Osceola",
  "34747": "Osceola",
  "34758": "Osceola",
  "34769": "Osceola",
  "34771": "Osceola",
  "34772": "Osceola",
};

export function countyFromZip(zip: string): string | null {
  const z = zip.trim().slice(0, 5);
  if (FL_ZIP_FULL_TO_COUNTY[z]) return FL_ZIP_FULL_TO_COUNTY[z];
  const prefix = z.slice(0, 3);
  return FL_ZIP_PREFIX_TO_COUNTY[prefix] ?? null;
}
